/* ===================== CHATBOT – TOKENS (por defecto) ===================== */
:root {
    --cb-surface: #0b1220;
    --cb-text: #e5e7eb;
    --cb-border: rgba(255, 255, 255, .08);
    --cb-header-start: #0ea5e9;
    --cb-header-end: #2563eb;
    --cb-bot-bg: #121a2d;
    --cb-bot-text: #e5e7eb;
    --cb-me-bg: #3151ff;
    --cb-me-text: #ffffff;
    --cb-input-bg: #0f162a;
    --cb-input-text: #e5e7eb;
    --cb-input-border: #1f2a44;
    --cb-send-bg: #2563eb;
    --cb-link: #60a5fa;
    --cb-shadow: 0 14px 36px rgba(0, 0, 0, .35);
}

/* ===================== THEME: Glass / Brand ===================== */
body.chat-theme--glass {
    --cb-surface: rgba(13, 18, 32, .72);
    --cb-text: #eef2ff;
    --cb-border: rgba(255, 255, 255, .12);
    --cb-header-start: #0dcaf0;
    --cb-header-end: #6f42c1;
    --cb-bot-bg: rgba(255, 255, 255, .08);
    --cb-bot-text: #eaf1ff;
    --cb-me-bg: #4f46e5;
    --cb-me-text: #ffffff;
    --cb-input-bg: rgba(10, 15, 28, .65);
    --cb-input-text: #e5e7eb;
    --cb-input-border: rgba(255, 255, 255, .15);
    --cb-send-bg: #6f42c1;
    --cb-link: #8ab8ff;
    --cb-shadow: 0 18px 40px rgba(15, 23, 42, .4);
}

/* ===================== THEME: Pastel (Light) ===================== */
body.chat-theme--pastel {
    --cb-surface: #ffffff;
    --cb-text: #0f172a;
    --cb-border: #e7edf3;
    --cb-header-start: #a78bfa;
    --cb-header-end: #22d3ee;
    --cb-bot-bg: #f3f6ff;
    --cb-bot-text: #0f172a;
    --cb-me-bg: #4f46e5;
    --cb-me-text: #ffffff;
    --cb-input-bg: #f8fafc;
    --cb-input-text: #111827;
    --cb-input-border: #dbe4ef;
    --cb-send-bg: #22d3ee;
    --cb-link: #2563eb;
    --cb-shadow: 0 14px 36px rgba(15, 23, 42, .12);
}

/* ===================== THEME: Dark Neon ===================== */
body.chat-theme--neon {
    --cb-surface: #070a13;
    --cb-text: #e6f0ff;
    --cb-border: rgba(96, 165, 250, .18);
    --cb-header-start: #111827;
    --cb-header-end: #1d4ed8;
    --cb-bot-bg: #0c1224;
    --cb-bot-text: #dbeafe;
    --cb-me-bg: #00c2ff;
    --cb-me-text: #00121a;
    --cb-input-bg: #0a1222;
    --cb-input-text: #e6f0ff;
    --cb-input-border: #1f3b63;
    --cb-send-bg: #7c3aed;
    --cb-link: #7dd3fc;
    --cb-shadow: 0 16px 44px rgba(2, 132, 199, .28);
}

/* ===================== CHATBOT – LAYOUT ===================== */
/* FAB más grande y legible (antes 56x56) */
#chatFab {
    position: fixed;
    right: 22px;
    bottom: 96px;
    /* un poco más alto para no chocar con otros botones */
    z-index: 1050;
    width: 72px;
    height: 72px;
    border-radius: 999px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 14px 36px rgba(2, 132, 199, .38);
    background: linear-gradient(90deg, #0dcaf0, #6f42c1);
    color: #fff;
    border: 0;
    transition: transform .18s ease, box-shadow .18s ease;
}

/* Icono dentro del FAB: tamaño más grande */
#chatFab i {
    font-size: 2.6rem;
    /* ajusta: 2.2–2.8rem según te guste */
    line-height: 1;
    /* lo centra verticalmente */
}

#chatFab .iconify {
    font-size: 45px;
    line-height: 1.5;
}

/* ajusta tamaño */

/* ~28px */

/* Hover */
#chatFab:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 36px rgba(2, 132, 199, .46);
}

#chatBox {
    position: fixed;
    right: 16px;
    bottom: 150px;
    z-index: 1050;
    width: 360px;
    max-width: 95vw;
    background: var(--cb-surface);
    color: var(--cb-text);
    border-radius: 14px;
    box-shadow: var(--cb-shadow);
    display: none;
    overflow: hidden;
    border: 1px solid var(--cb-border);
    backdrop-filter: blur(12px);
}

#chatBox header {
    background: linear-gradient(90deg, var(--cb-header-start), var(--cb-header-end));
    color: #fff;
    padding: 10px 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

#chatMsgs {
    height: 360px;
    overflow-y: auto;
    padding: 12px;
}

.bubble {
    max-width: 85%;
    border-radius: 12px;
    padding: 10px 12px;
    margin-bottom: 10px;
    white-space: pre-wrap;
    box-shadow: 0 6px 14px rgba(0, 0, 0, .18);
}

.me-bubble {
    margin-left: auto;
    background: var(--cb-me-bg);
    color: var(--cb-me-text);
}

.bot-bubble {
    margin-right: auto;
    background: var(--cb-bot-bg);
    color: var(--cb-bot-text);
    border: 1px solid var(--cb-border);
}

#chatMsgs .bubble a {
    color: var(--cb-link);
    text-decoration: underline;
    word-break: break-all;
}

#chatForm {
    display: flex;
    gap: 8px;
    padding: 10px;
    background: var(--cb-surface);
    border-top: 1px solid var(--cb-border);
}

#chatInput {
    flex: 1;
    background: var(--cb-input-bg);
    color: var(--cb-input-text);
    border: 1px solid var(--cb-input-border);
    border-radius: 10px;
    padding: 10px;
}

#chatSend {
    background: var(--cb-send-bg);
    border: 0;
    color: #fff;
    border-radius: 10px;
    padding: 0 16px;
    transition: transform .12s ease, box-shadow .12s ease;
}

#chatSend:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(0, 0, 0, .2);
}

/* Respeta reduce-motion */
@media (prefers-reduced-motion: reduce) {

    #chatFab,
    #chatSend {
        transition: none !important;
    }
}