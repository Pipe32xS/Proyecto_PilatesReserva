{% extends 'base_index.html' %}

{% block title %}Inicio | PilatesReserva{% endblock %}

{% block content %}
<!-- HERO: fondo con imagen + degradado -->
<section id="idx-hero" class="text-white"
  style="background:
    linear-gradient(135deg, rgba(0,0,0,.65), rgba(0,0,0,.25)),
    url('https://images.squarespace-cdn.com/content/v1/65a715a0a14a675d05f66d98/6e49f011-1930-481f-b998-7e465102dd14/Reformer+Banner.jpg')
    no-repeat center center / cover;">
  <div class="container py-5">
    <div class="row">
      <div class="col-lg-8 col-xl-7">
        
        <!-- WRAP con halo externo alineado + nudge a la izquierda -->
        <div class="idx-hero-wrap">
          <!-- Tarjeta del hero (blanca / glass) -->
          <div class="idx-hero-card rounded-4 p-4 p-md-5">

            <!-- Badge animada -->
            <span class="badge rounded-pill mb-3"
                  style="background: rgba(13,202,240,.2); color: var(--bs-info); letter-spacing:.35px; transition:transform .25s;"
                  onmouseenter="this.style.transform='translateY(-2px)';"
                  onmouseleave="this.style.transform='none';">
              Bienestar &amp; Movimiento
            </span>

            <h1 class="display-4 fw-bold lh-1 text-dark">Transforma tu cuerpo con Pilates</h1>
            <p class="lead mt-3 mb-4" style="color:#304057">
              Fortalece tu cuerpo, mejora tu postura y recupera energía con clases guiadas para todos los niveles.
            </p>

            <!-- Botones -->
            <div class="d-flex flex-wrap gap-3">
              <a href="{% url 'login:login' %}?next={% url 'index:index' %}"
                 class="btn text-white fw-semibold px-4 py-2 rounded-3"
                 style="background: linear-gradient(90deg, #0dcaf0, #6f42c1); border: 0; transition: all .25s ease;"
                 onmouseenter="this.style.filter='brightness(1.06)'; this.style.transform='translateY(-2px)';"
                 onmouseleave="this.style.filter='none'; this.style.transform='none';">
                Reservar Clase
              </a>
              <a href="{% url 'index:contacto_publico' %}"
                 class="btn btn-outline-dark fw-semibold px-4 py-2 rounded-3"
                 style="transition: all .25s ease;"
                 onmouseenter="this.style.backgroundColor='rgba(0,0,0,.85)'; this.style.color='#fff'; this.style.transform='translateY(-2px)';"
                 onmouseleave="this.style.backgroundColor='transparent'; this.style.color='#000'; this.style.transform='none';">
                Contáctanos
              </a>
            </div>

            <!-- Chips -->
            <div class="d-flex flex-wrap gap-3 mt-4">
              <span class="badge rounded-pill text-bg-light"
                    style="opacity:.9; border:1px solid rgba(0,0,0,.08); backdrop-filter: blur(2px);">
                +500 clases reservadas
              </span>
              <span class="badge rounded-pill text-bg-light"
                    style="opacity:.9; border:1px solid rgba(0,0,0,.08); backdrop-filter: blur(2px);">
                Instructores certificados
              </span>
              <span class="badge rounded-pill text-bg-light"
                    style="opacity:.9; border:1px solid rgba(0,0,0,.08); backdrop-filter: blur(2px);">
                Resultados visibles
              </span>
            </div>

          </div><!-- /.idx-hero-card -->
        </div><!-- /.idx-hero-wrap -->

      </div>
    </div>
  </div>
</section>

<!-- BENEFICIOS -->
<section class="py-5" style="background: linear-gradient(180deg,#f8f9fa 0,#ffffff 100%);">
  <div class="container">
    <h2 class="fw-bold text-center mb-4">¿Por qué elegir PilatesReserva?</h2>
    <div class="row g-4">

      <div class="col-md-4">
        <div class="h-100 p-4 rounded-4 shadow-sm border bg-white"
             style="transition: all .25s ease; border-color: rgba(13,202,240,.25)!"
             onmouseenter="this.style.transform='translateY(-6px)'; this.style.boxShadow='0 1.25rem 2rem rgba(0,0,0,.12)';"
             onmouseleave="this.style.transform='none'; this.style.boxShadow='';">
          <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-3"
               style="width:64px;height:64px;background: rgba(13,202,240,.15);">
            <i class="bi bi-person-heart fs-3" style="color: var(--bs-info);"></i>
          </div>
          <h5 class="fw-bold">Atención Personalizada</h5>
          <p class="mb-0 opacity-75">Clases adaptadas a tu nivel y condición física, con seguimiento constante.</p>
        </div>
      </div>

      <div class="col-md-4">
        <div class="h-100 p-4 rounded-4 shadow-sm border bg-white"
             style="transition: all .25s ease; border-color: rgba(13,202,240,.25)!"
             onmouseenter="this.style.transform='translateY(-6px)'; this.style.boxShadow='0 1.25rem 2rem rgba(0,0,0,.12)';"
             onmouseleave="this.style.transform='none'; this.style.boxShadow='';">
          <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-3"
               style="width:64px;height:64px;background: rgba(13,202,240,.15);">
            <i class="bi bi-calendar-check fs-3" style="color: var(--bs-info);"></i>
          </div>
          <h5 class="fw-bold">Reserva Online</h5>
          <p class="mb-0 opacity-75">Agenda tus clases desde cualquier lugar con nuestra plataforma inteligente.</p>
        </div>
      </div>

      <div class="col-md-4">
        <div class="h-100 p-4 rounded-4 shadow-sm border bg-white"
             style="transition: all .25s ease; border-color: rgba(13,202,240,.25)!"
             onmouseenter="this.style.transform='translateY(-6px)'; this.style.boxShadow='0 1.25rem 2rem rgba(0,0,0,.12)';"
             onmouseleave="this.style.transform='none'; this.style.boxShadow='';">
          <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-3"
               style="width:64px;height:64px;background: rgba(13,202,240,.15);">
            <i class="bi bi-bar-chart-line fs-3" style="color: var(--bs-info);"></i>
          </div>
          <h5 class="fw-bold">Resultados Visibles</h5>
          <p class="mb-0 opacity-75">Mejora tu postura, flexibilidad y fuerza con rutinas efectivas y seguras.</p>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- PASOS -->
<section class="py-4">
  <div class="container">
    <div class="row g-3 text-center">
      <div class="col-12 col-md-4">
        <div class="p-3 rounded-4 border bg-white shadow-sm h-100"
             style="border-color: rgba(13,202,240,.25);">
          <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-2"
               style="width:48px;height:48px;background: rgba(13,202,240,.15);">
            <i class="bi bi-person-plus-fill" style="color: var(--bs-info);"></i>
          </div>
          <div class="fw-semibold">1. Crea tu cuenta</div>
          <small class="text-secondary">Toma menos de un minuto.</small>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="p-3 rounded-4 border bg-white shadow-sm h-100"
             style="border-color: rgba(13,202,240,.25);">
          <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-2"
               style="width:48px;height:48px;background: rgba(13,202,240,.15);">
            <i class="bi bi-calendar2-week" style="color: var(--bs-info);"></i>
          </div>
        <div class="fw-semibold">2. Reserva tu clase</div>
        <small class="text-secondary">Mat, Reformer o grupal.</small>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="p-3 rounded-4 border bg-white shadow-sm h-100"
             style="border-color: rgba(13,202,240,.25);">
          <div class="d-inline-flex align-items-center justify-content-center rounded-circle mb-2"
               style="width:48px;height:48px;background: rgba(13,202,240,.15);">
            <i class="bi bi-heart-pulse-fill" style="color: var(--bs-info);"></i>
          </div>
          <div class="fw-semibold">3. Disfruta los resultados</div>
          <small class="text-secondary">Más energía y mejor postura.</small>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CONTADOR ANIMADO -->
<section class="py-5" style="background: linear-gradient(90deg, rgba(13,202,240,.12), rgba(111,66,193,.12));">
  <div class="container">
    <div class="row text-center g-4">
      <div class="col-12 col-md-4">
        <div class="p-4 bg-white rounded-4 shadow-sm h-100">
          <div class="fs-1 fw-bold" id="count-1" data-target="750">0</div>
          <div class="text-secondary">Clases impartidas</div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="p-4 bg-white rounded-4 shadow-sm h-100">
          <div class="fs-1 fw-bold" id="count-2" data-target="1200">0</div>
          <div class="text-secondary">Alumnos felices</div>
        </div>
      </div>
      <div class="col-12 col-md-4">
        <div class="p-4 bg-white rounded-4 shadow-sm h-100">
          <div class="fs-1 fw-bold" id="count-3" data-target="12">0</div>
          <div class="text-secondary">Instructores certificados</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===================== TESTIMONIOS ===================== -->
<section class="py-5 lp-reveal" style="background: linear-gradient(180deg,#f7fbff 0,#ffffff 100%);">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="fw-bold">Lo que dicen nuestros alumnos</h2>
      <div class="text-muted">Experiencias reales de quienes ya entrenan con nosotros.</div>
    </div>

    <div class="position-relative tst-carousel">
      <!-- Flechas -->
      <button class="tst-arrow prev" type="button" data-bs-target="#carouselTestimonios" data-bs-slide="prev" aria-label="Anterior">
        <i class="bi bi-chevron-left"></i>
      </button>
      <button class="tst-arrow next" type="button" data-bs-target="#carouselTestimonios" data-bs-slide="next" aria-label="Siguiente">
        <i class="bi bi-chevron-right"></i>
      </button>

      <div id="carouselTestimonios" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4500" data-bs-touch="true" data-bs-pause="hover">
        <!-- Indicadores -->
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="0" class="active" aria-current="true" aria-label="1"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="1" aria-label="2"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="2" aria-label="3"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="3" aria-label="4"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="4" aria-label="5"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="5" aria-label="6"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="6" aria-label="7"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="7" aria-label="8"></button>
          <button type="button" data-bs-target="#carouselTestimonios" data-bs-slide-to="8" aria-label="9"></button>
        </div>

        <div class="carousel-inner">

          <!-- 1 -->
          <div class="carousel-item active d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">
                “Llegué con dolor lumbar y cero experiencia. En seis semanas noté cambios en mi postura y en cómo respiro durante el día.
                Las clases son claras, progresivas y el estudio se siente <em>muy</em> cuidado. Si necesito mover mi clase, ¡responden al tiro!”
              </p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">RM</div>
                <div>
                  <div class="fw-semibold">Rodrigo M.</div>
                  <small class="text-secondary">Plan Mat · 2x por semana</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 2 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">“La plataforma de reservas es muy fácil y flexible. Recomiendo 100%.”</p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">CS</div>
                <div>
                  <div class="fw-semibold">Camila S.</div>
                  <small class="text-secondary">Reformer</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 3 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">“Se nota la formación de los profes. Corrigen de forma amable y te hacen progresar de verdad.”</p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">MJ</div>
                <div>
                  <div class="fw-semibold">María J.</div>
                  <small class="text-secondary">Mat</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 4 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">
                “Volví a moverme después de una lesión de rodilla. Las adaptaciones me dieron mucha seguridad y pude retomar sin miedo.
                Ahora incluso me siento más fuerte para mis entrenamientos de running.”
              </p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">DV</div>
                <div>
                  <div class="fw-semibold">Daniela V.</div>
                  <small class="text-secondary">Reformer</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 5 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">“Vine por estrés y me quedé por la energía del grupo. Salgo livianita y con mejor ánimo.”</p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">CP</div>
                <div>
                  <div class="fw-semibold">Carla P.</div>
                  <small class="text-secondary">Grupal</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 6 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">“El estudio es hermoso y siempre impecable. Me encanta el ambiente.”</p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">FR</div>
                <div>
                  <div class="fw-semibold">Felipe R.</div>
                  <small class="text-secondary">Grupal</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 7 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">“Clases top ✅ Reservo desde el metro y listo.”</p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">IT</div>
                <div>
                  <div class="fw-semibold">Ignacio T.</div>
                  <small class="text-secondary">Mat Express</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 8 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">“Me ayudaron con la respiración y la activación del core. Noté cambios en la postura del trabajo.”</p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">SL</div>
                <div>
                  <div class="fw-semibold">Sofía L.</div>
                  <small class="text-secondary">Mat + Reformer</small>
                </div>
              </div>
            </article>
          </div>

          <!-- 9 -->
          <div class="carousel-item d-flex justify-content-center align-items-center tst-item">
            <article class="tst-card p-4 p-md-5 rounded-4 border shadow-sm">
              <div class="d-flex align-items-center gap-2 mb-2 text-warning">
                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
              </div>
              <p class="mb-3 fst-italic">“Horarios flexibles y recordatorios por mail. Todo fácil.”</p>
              <div class="d-flex align-items-center gap-3">
                <div class="tst-badge">AN</div>
                <div>
                  <div class="fw-semibold">Anto N.</div>
                  <small class="text-secondary">Beginner</small>
                </div>
              </div>
            </article>
          </div>

        </div>
      </div>
    </div>
  </div>
</section>
<!-- =================== /TESTIMONIOS =================== -->

<!-- GALERÍA -->
<section class="py-5 bg-light">
  <div class="container">
    <h2 class="fw-bold text-center mb-4">Tipos de Clases</h2>
    <div class="row g-4">

      <div class="col-md-4">
        <a href="{% url 'index:clases' %}?tipo=reformer" class="text-decoration-none">
          <div class="ratio ratio-16x9 rounded-4 shadow-sm position-relative overflow-hidden"
               style="cursor:pointer; transition: all .35s ease; filter: grayscale(100%);"
               onmouseenter="this.style.transform='scale(1.03)'; this.style.filter='grayscale(0%)';"
               onmouseleave="this.style.transform='none'; this.style.filter='grayscale(100%)';">
            <img src="https://cdn.pixabay.com/photo/2017/11/18/05/08/pilates-2959235_1280.jpg"
                 alt="Clase de Pilates Reformer" class="w-100 h-100 object-fit-cover">
            <div class="position-absolute top-50 start-50 translate-middle text-white fw-semibold px-3 py-2 rounded-3"
                 style="background: rgba(0,0,0,.45); backdrop-filter: blur(2px);">
              Clase Reformer
            </div>
          </div>
        </a>
      </div>

      <div class="col-md-4">
        <a href="{% url 'index:clases' %}?tipo=mat" class="text-decoration-none">
          <div class="ratio ratio-16x9 rounded-4 shadow-sm position-relative overflow-hidden"
               style="cursor:pointer; transition: all .35s ease; filter: grayscale(100%);"
               onmouseenter="this.style.transform='scale(1.03)'; this.style.filter='grayscale(0%)';"
               onmouseleave="this.style.transform='none'; this.style.filter='grayscale(100%)';">
            <img src="https://blog.clubpilates.com.au/hubfs/Imported_Blog_Media/03-scaled.jpg"
                 alt="Clase de Pilates en Mat" class="w-100 h-100 object-fit-cover">
            <div class="position-absolute top-50 start-50 translate-middle text-white fw-semibold px-3 py-2 rounded-3"
                 style="background: rgba(0,0,0,.45); backdrop-filter: blur(2px);">
              Clase Mat
            </div>
          </div>
        </a>
      </div>

      <div class="col-md-4">
        <a href="{% url 'index:clases' %}?tipo=grupal" class="text-decoration-none">
          <div class="ratio ratio-16x9 rounded-4 shadow-sm position-relative overflow-hidden"
               style="cursor:pointer; transition: all .35s ease; filter: grayscale(100%);"
               onmouseenter="this.style.transform='scale(1.03)'; this.style.filter='grayscale(0%)';"
               onmouseleave="this.style.transform='none'; this.style.filter='grayscale(100%)';">
            <img src="https://physio-fit.com.au/wp-content/uploads/2020/09/reformer-pilates-gold-coast.jpg"
                 alt="Clase grupal de Pilates" class="w-100 h-100 object-fit-cover">
            <div class="position-absolute top-50 start-50 translate-middle text-white fw-semibold px-3 py-2 rounded-3"
                 style="background: rgba(0,0,0,.45); backdrop-filter: blur(2px);">
              Clase Grupal
            </div>
          </div>
        </a>
      </div>

    </div>
  </div>
</section>

<!-- CTA final -->
<section class="py-5 text-white" style="background: linear-gradient(90deg, #0dcaf0, #6f42c1);">
  <div class="container">
    <div class="row align-items-center g-3">
      <div class="col-lg-8">
        <h3 class="fw-bold mb-1">¿Listo para tu primera clase?</h3>
        <p class="mb-0 opacity-90">Reserva ahora y recibe guía personalizada desde el primer día.</p>
      </div>
      <div class="col-lg-4 text-lg-end">
        <a href="{% url 'login:login' %}?next={% url 'index:index' %}"
           class="btn btn-light fw-semibold rounded-3 px-4 py-2"
           style="transition: all .25s ease;"
           onmouseenter="this.style.transform='translateY(-2px)';"
           onmouseleave="this.style.transform='none';">
          Comenzar
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Script: contador animado -->
<script>
  (function () {
    const counters = [
      document.getElementById('count-1'),
      document.getElementById('count-2'),
      document.getElementById('count-3')
    ].filter(Boolean);

    if (!('IntersectionObserver' in window) || counters.length === 0) return;

    const animate = el => {
      const target = +el.dataset.target;
      let curr = 0;
      const step = Math.max(1, Math.ceil(target / 120)); // ~2s
      const t = setInterval(() => {
        curr += step;
        if (curr >= target) { curr = target; clearInterval(t); }
        el.textContent = curr.toLocaleString('es-CL');
      }, 16);
    };

    const io = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          animate(e.target);
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.4 });

    counters.forEach(c => io.observe(c));
  })();
</script>
{% endblock %}

