{% extends "administrador/base_admin.html" %}
{% block encabezado %}Reservas de {{ u.username }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h5 class="mb-0">Historial de reservas</h5>
  <a class="btn btn-sm btn-outline-secondary" href="{% url 'administrador:perfiles_list' %}">← Volver a Perfiles</a>
</div>

<div class="table-responsive">
  <table class="table table-hover align-middle">
    <thead>
      <tr>
        <th>Clase</th>
        <th>Fecha</th>
        <th>Hora</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      {% for r in reservas %}
      <tr>
        <td>
          {% if r.clase %}
            {{ r.clase.nombre_clase }}
          {% else %}
            —
          {% endif %}
        </td>
        <td>{{ r.fecha|default:"—" }}</td>
        <td>
          {% if r.inicio %}{{ r.inicio|time:"H:i" }}{% else %}—{% endif %}
        </td>
        <td>
          {% if r.estado %}{{ r.estado }}{% else %}—{% endif %}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" class="text-center text-muted py-3">No tiene reservas registradas.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
